---
layout: base
title: Guide
---

Prerequisites : <a class="external" href="http://php.net/manual/en/language.oop5.autoload.php">class autoloading</a>, <a class="external" href="http://php.net/manual/en/language.namespaces.php">namespaces</a>, <a class="external" href="http://be2.php.net/manual/en/function.class-alias.php">class_alias</a>.

<h2>File system structure</h2>

<p>The <span class="inline_code">bootstrap.php</span> file is the one that must be included in order to use the library. It will register the class auto-loader and setup some path constants. The classes are located in the <span class="inline_code">classes</span> directory, one class per file, according to the naming conventions explained below.</p>

<pre>
+--glue/
     +--classes/
     |    +--db/
     | 	  +--orm/
     |    +--system/
     |         +--db/
     |         +--orm/
     +--bootstrap.php
</pre>

<h2>Namespaces and class naming convention</h2>

<p>System classes live in the <span class="inline_code">\Glue\System\DB</span> and <span class="inline_code">\Glue\System\ORM</span> namespaces. For those classes, the auto-loader will expect a class called :</p>

<ul>
	<li><span class="inline_code">\Glue\System\DB\Some_Class</span> to be located in the file <span class="inline_code">system/db/some/class.php</span></li>
	<li><span class="inline_code">\Glue\System\ORM\Some_Class</span> to be located in the file <span class="inline_code">system/orm/some/class.php</span></li>
</ul>

<p>User defined classes live in the <span class="inline_code">\Glue\DB</span> and <span class="inline_code">\Glue\ORM</span> namespaces. For those classes, the auto-loader will expect a class called :</p>

<ul>
	<li><span class="inline_code">\Glue\DB\Some_Class</span> to be located in the file <span class="inline_code">db/some/class.php</span></li>
	<li><span class="inline_code">\Glue\ORM\Some_Class</span> to be located in the file <span class="inline_code">orm/some/class.php</span></li>
</ul>

<p>If you attempt to use a class called <span class="inline_code">\Glue\DB\Some_Class</span> but no user defined class can be found, the auto-loader will load the system class <span class="inline_code">\Glue\System\DB\Some_Class</span> as a fall-back. An <a class="external" href="http://be2.php.net/manual/en/function.class-alias.php">alias</a> will be set up, so that in the future <span class="inline_code">\Glue\DB\Some_Class</span> will refer to the system class <span class="inline_code">\Glue\System\DB\Some_Class</span> . Thus, you can picture yourself the <span class="inline_code">\Glue\DB</span> and <span class="inline_code">\Glue\ORM</span> namespaces as copies of the <span class="inline_code">\Glue\System\DB</span> and <span class="inline_code">\Glue\System\ORM</span> namespaces where system classes have been replaced by user defined ones when those exist.</p>

<p>These "merged" <span class="inline_code">\Glue\DB</span> and <span class="inline_code">\Glue\ORM</span> namespaces are the real ones that will see their classes instanciated. Classes in the <span class="inline_code">\Glue\System\DB</span> and <span class="inline_code">\Glue\System\ORM</span> namespaces will never be instanciated directly. They are fall backs that exist for the sole purpose of being imported into the <span class="inline_code">\Glue\DB</span> and <span class="inline_code">\Glue\ORM</span> namespaces when no user defined class is found.</p>

<h2>Inheritance and class naming convention</h2>

<p>Although this is not required, it is a good idea to always call <span class="inline_code">A_B</span> a class <span class="inline_code">B</span> that inherits from a class <span class="inline_code">A</span> so that class names (and thus the file structure since one is bound to the other) reflect the inheritance hierarchy.</p>













